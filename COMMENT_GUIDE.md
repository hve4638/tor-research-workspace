# onion-simulate 주석 작성 지침

## 목표
- 코드의 의도, 제약, 흐름을 빠르게 이해할 수 있도록 돕는다.
- 자명한 동작을 반복하지 않고, “왜 이렇게 하는가”를 설명한다.

## 기본 원칙
- 라인별/단위별 주석 금지: 이미 명확한 코드에는 주석을 달지 않는다.
- 주석은 **파일 상단, 함수/클래스/정의 위**에만 작성한다.
- 주석의 1순위는 **맥락과 의도**이며, 동작 설명은 최소화한다.

## 주석 위치 규칙
- **파일 헤더**: 파일 목적, 핵심 흐름, 진입점/호출 관계를 요약한다.
- **함수/클래스/정의 위**: 목적 + 입력/출력 + 부작용/오류 + 호출 위치(필요 시)를 작성한다.
- **라인 주석**: 복잡한 알고리즘, 상태전이, 동기화, 성능/안전 제약 등 예외적인 경우에만 허용한다.

## 작성 내용 가이드
- **목적/맥락 중심**: 무엇을 하는지보다 왜 이렇게 하는지, 어떤 제약이 있는지를 설명한다.
- **입출력/부작용**: 입력, 출력, 상태 변경, 외부 의존(파일/네트워크/DB 등)을 간단히 명시한다.
- **오류/예외**: 중요한 예외 조건이나 실패 시 동작을 적는다.
- **호출 흐름**: 어디서 호출되며 어디로 이어지는지 1~2줄 요약한다.

## 금지 사항
- 코드 자체로 명확한 내용의 반복 설명.
- 변수명/함수명/타입 정보와 중복되는 주석.
- 라인마다 붙는 주석, 사소한 처리 과정의 나열.

## 유지보수 기준
- 주석이 오래될 수 있는 부분은 `NOTE:` 또는 `TODO:`로 명확히 표시한다.
- 구조/흐름 설명은 필요 시 `README`/`docs`에 1장 요약으로 분리한다.

## 템플릿 예시

### 파일 헤더
```
// 목적: ...
// 핵심 흐름: ... -> ... -> ...
// 진입점/호출: ...에서 호출되어 ...로 전달됨
```

### 함수/클래스 위
```
// 목적: ...
// 입력: ...  출력: ...
// 부작용: ...
// 오류/예외: ...
// 호출: ...에서 사용됨
```
