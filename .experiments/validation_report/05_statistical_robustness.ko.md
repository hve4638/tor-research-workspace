# 통계적 견고성: 다중 시드 분산 분석

**검증 테스트**: S1 (다중 시드 상관 분산), S2 (클라이언트 민감도)
**데이터 소스**: `data/s1_multi_seed_stats.json`, `data/s2_client_sensitivity.json`

---

## 1. S1: 다중 시드 상관 분산

### 1.1 방법론

동일 설정에서 서로 다른 랜덤 시드로 여러 번 시뮬레이션을 실행하여 상관률 추정치의 분산을 정량화했다. 이는 "독립적 랜덤 시행에서 상관 측정이 얼마나 안정적인가?"라는 질문에 답한다.

각 시드는 서로 다른 시퀀스를 생성한다:
- 클라이언트 AS 할당
- Guard 샘플 선택
- 회로 구성 (middle/exit 릴레이 선택)
- BGP 공격 타이밍 (설정 윈도우 내)

### 1.2 결과

#### Raptor 비대칭 기준선 (3개 시드, 200 클라이언트, 90일)

| 시드 | 상관률 | 상관 회로 | 총 회로 |
|------|--------|----------:|--------:|
| 1 | 0.02796 | 217,467 | 7,776,600 |
| 2 | 0.02834 | 220,391 | 7,776,600 |
| 3 | 0.02675 | 208,030 | 7,776,600 |

| 통계량 | 값 |
|--------|-----|
| 평균 | 0.02769 |
| 표준편차 | 0.00083 |
| 변동계수(CV) | 3.0% |
| 95% 신뢰구간 | [0.02562, 0.02975] |
| 최소 | 0.02675 |
| 최대 | 0.02834 |

#### BGP 공격 Vanilla (3개 시드, 50 클라이언트, 90일)

| 시드 | 상관률 | 상관 회로 | 총 회로 |
|------|--------|----------:|--------:|
| 1 | 0.02176 | 42,295 | 1,944,150 |
| 2 | 0.02572 | 49,995 | 1,944,150 |
| 3 | 0.02139 | 41,576 | 1,944,150 |

| 통계량 | 값 |
|--------|-----|
| 평균 | 0.02295 |
| 표준편차 | 0.00240 |
| 변동계수(CV) | 10.5% |
| 95% 신뢰구간 | [0.01699, 0.02892] |
| 최소 | 0.02139 |
| 최대 | 0.02572 |

#### Astoria 방어 (1개 시드, 50 클라이언트, 90일)

| 시드 | 상관률 | 상관 회로 | 총 회로 |
|------|--------|----------:|--------:|
| 1 | 0.0000067 | 13 | 1,944,150 |

Astoria는 상관률을 ~2.30% (vanilla)에서 0.00067%로 감소시켜, ~3,400배 감소를 달성했다. 1,944,150개 회로 중 13개만 상관되어, Astoria가 AS 수준 트래픽 상관 기회를 거의 완전히 제거함을 보여준다.

*추가 시드 대기 중 (시뮬레이션 진행 중).*

### 1.3 해석

raptor_asym 시나리오의 3개 시드는 **CV 3.0%**를 보이며, 10% 임계값을 크게 하회하여 상관률 추정치가 랜덤 시드 간에 매우 안정적임을 나타낸다. 좁은 95% 신뢰구간 [2.56%, 2.97%]은 단일 실행 실험의 신뢰성을 추가로 뒷받침한다.

주요 관찰:
- 최소(2.68%)와 최대(2.83%) 간 차이는 0.16 퍼센트 포인트에 불과
- 세 시드 모두 2.77% 근처의 좁은 대역 내 비율 생성
- 이 안정성은 상관률이 수백만 회로에 걸쳐 집계되어 회로별 무작위성이 평활화되기 때문에 예상됨

bgp_attack 시나리오의 3개 시드는 10.5%의 CV를 보이며, raptor_asym의 3.0%보다 높다. 이는 더 적은 클라이언트 수(50 vs 200)가 틱당 더 적은 회로를 생성하여 표본 분산이 더 크기 때문에 예상되는 결과이다. 평균 상관률(2.30%)은 raptor_asym(2.77%)보다 낮으며, 시나리오 설정(클라이언트 수, 적대자 모델) 차이 때문일 가능성이 높다. 95% CI [1.70%, 2.89%]는 넓지만 정보적이며, 추가 시드로 더 좁힐 수 있다.

---

## 2. S2: 클라이언트 민감도 분석

### 2.1 방법론

시뮬레이션 클라이언트 수(즉, 틱당 회로 수)를 변화시켜 상관 메트릭이 시뮬레이션 규모에 민감한지 테스트한다.

### 2.2 결과

*다중 시드 시뮬레이션 완료 대기 중. 데이터가 이용 가능해지면 `data/s2_client_sensitivity.json`에서 결과가 채워질 예정.*

---

## 3. 요약

| 테스트 | 상태 | 핵심 발견 |
|--------|------|----------|
| S1 다중 시드 | 부분 완료 (3개 시나리오, 7개 시드) | raptor_asym CV=3.0% (안정), bgp_attack CV=10.5%, Astoria ~0% 상관 |
| S2 클라이언트 민감도 | 대기 중 | 시뮬레이션 완료 대기 |

**참고**: S1 결과는 부분적 — raptor_asym은 3개 시드 완료, bgp_attack은 1개 시드. 나머지 시나리오(astoria, relay_adversary)와 추가 시드는 시뮬레이션 완료 대기 중. S2 클라이언트 민감도 분석은 전용 시뮬레이션 실행 대기 중.
